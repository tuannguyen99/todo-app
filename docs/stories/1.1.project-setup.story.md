# Story 1.1: Project Setup & Configuration

## Status

Ready

## Story

**As a** developer,
**I want** a properly configured Next.js 14 project with TypeScript, Tailwind CSS, and testing infrastructure,
**so that** I have a solid foundation for building the application with modern tooling and best practices.

## Acceptance Criteria

1. Next.js 14+ project initialized with App Router and TypeScript strict mode enabled
2. Tailwind CSS configured with default settings and working with Next.js
3. ESLint and Prettier configured with Next.js recommended settings
4. Jest and React Testing Library installed and configured for unit/component testing
5. Git repository initialized with appropriate .gitignore for Node.js/Next.js projects
6. README.md includes setup instructions and project overview
7. Project successfully builds and runs on localhost with default Next.js welcome page
8. Basic folder structure created: `app/`, `components/`, `lib/`, `types/`, `__tests__/`

## Tasks / Subtasks

- [ ] Initialize Next.js 14+ project with TypeScript (AC: 1)
  - [ ] Run `npx create-next-app@latest` with TypeScript and App Router options
  - [ ] Enable TypeScript strict mode in `tsconfig.json`
  - [ ] Verify Next.js 14+ version in `package.json`
  - [ ] Configure absolute imports with `@/` path alias in `tsconfig.json`

- [ ] Configure Tailwind CSS (AC: 2)
  - [ ] Install Tailwind CSS packages (already included with create-next-app)
  - [ ] Verify `tailwind.config.ts` has default configuration
  - [ ] Verify `postcss.config.js` is present
  - [ ] Verify `app/globals.css` includes Tailwind directives (`@tailwind base`, etc.)
  - [ ] Test Tailwind classes work in `app/page.tsx`

- [ ] Set up ESLint and Prettier (AC: 3)
  - [ ] Verify `.eslintrc.json` with Next.js recommended config (included with create-next-app)
  - [ ] Install Prettier: `npm install --save-dev prettier`
  - [ ] Create `.prettierrc` with configuration
  - [ ] Create `.prettierignore` file
  - [ ] Add lint and format scripts to `package.json`
  - [ ] Run `npm run lint` to verify ESLint works

- [ ] Install and configure Jest + React Testing Library (AC: 4)
  - [ ] Install testing packages: `npm install --save-dev jest jest-environment-jsdom @testing-library/react @testing-library/jest-dom @testing-library/user-event`
  - [ ] Install TypeScript types: `npm install --save-dev @types/jest`
  - [ ] Create `jest.config.js` with Next.js preset
  - [ ] Create `__tests__/setup.ts` for test environment setup
  - [ ] Add test scripts to `package.json` (test, test:watch, test:coverage)
  - [ ] Create sample test file to verify setup works
  - [ ] Run `npm test` to verify Jest configuration

- [ ] Initialize Git repository (AC: 5)
  - [ ] Run `git init` (if not already initialized by create-next-app)
  - [ ] Verify `.gitignore` includes: `node_modules/`, `.next/`, `out/`, `.env*.local`, `coverage/`
  - [ ] Create initial commit with project setup

- [ ] Create README.md (AC: 6)
  - [ ] Document project overview (Todo List app purpose)
  - [ ] Add prerequisites (Node 18+, npm 10+)
  - [ ] Add setup instructions (clone, install, run dev)
  - [ ] Add available npm scripts documentation
  - [ ] Add tech stack summary
  - [ ] Add project structure overview

- [ ] Create folder structure (AC: 8)
  - [ ] Create `components/` directory at root
  - [ ] Create `lib/` directory at root
  - [ ] Create `lib/hooks/` subdirectory
  - [ ] Create `lib/services/` subdirectory
  - [ ] Create `lib/utils/` subdirectory
  - [ ] Create `types/` directory at root
  - [ ] Create `__tests__/` directory at root
  - [ ] Create `__tests__/components/` subdirectory
  - [ ] Create `__tests__/lib/hooks/` subdirectory
  - [ ] Create `__tests__/lib/services/` subdirectory
  - [ ] Verify `app/` directory exists (created by Next.js)

- [ ] Verify build and dev server (AC: 7)
  - [ ] Run `npm run build` and verify successful compilation
  - [ ] Run `npm run dev` and verify server starts on localhost:3000
  - [ ] Open browser and verify Next.js welcome page displays
  - [ ] Verify no TypeScript errors
  - [ ] Verify no ESLint errors

## Dev Notes

### Tech Stack (DEFINITIVE)
[Source: architecture/tech-stack.md]

All development MUST use these exact technologies and versions:

| Technology | Version | Purpose |
|-----------|---------|---------|
| **Next.js** | 14.2+ | React framework with App Router |
| **React** | 18.3+ | UI library |
| **TypeScript** | 5.3+ | Type-safe JavaScript with strict mode |
| **Tailwind CSS** | 3.4+ | Utility-first CSS framework |
| **Jest** | 29+ | Testing framework |
| **React Testing Library** | 14+ | Component testing |
| **ESLint** | 8.56+ | Code linting |
| **Prettier** | 3.2+ | Code formatting |
| **Node.js** | 18+ | Runtime (development) |
| **npm** | 10+ | Package manager |

### Project Structure (REQUIRED)
[Source: architecture/unified-project-structure.md]

Create this exact structure:

``
todo-app/
 app/                          # Next.js 14 App Router
    layout.tsx                # Root layout
    page.tsx                  # Home page
    error.tsx                 # Error boundary
    globals.css               # Global styles (Tailwind directives)
    favicon.ico               # App icon
 components/                   # React components
 lib/                          # Business logic and utilities
    hooks/                    # Custom React hooks
    services/                 # Service layer (storage, etc.)
    utils/                    # Utility functions
 types/                        # TypeScript type definitions
 __tests__/                    # Test files
    components/               # Component tests
    lib/
       hooks/                # Hook tests
       services/             # Service tests
    setup.ts                  # Jest setup
 docs/                         # Documentation (already exists)
 public/                       # Static assets
 .eslintrc.json                # ESLint config
 .gitignore                    # Git ignore
 .prettierrc                   # Prettier config
 jest.config.js                # Jest config
 next.config.js                # Next.js config
 package.json                  # Dependencies and scripts
 postcss.config.js             # PostCSS config
 README.md                     # Project docs
 tailwind.config.ts            # Tailwind config
 tsconfig.json                 # TypeScript config
``

### TypeScript Configuration Requirements
[Source: architecture/coding-standards.md, architecture/tech-stack.md]

**tsconfig.json must include:**
- `"strict": true` - Enable all strict type checking
- `"noImplicitAny": true` - Prevent implicit any types
- Path aliases: `"@/*": ["./*"]` for absolute imports

**Critical Rules:**
- NEVER use `any` type without explicit justification
- All component props must have explicit TypeScript interfaces

### Tailwind Configuration
[Source: architecture/tech-stack.md]

Use Tailwind's **default configuration** - only customize if specifically needed for brand colors (not required for Story 1.1).

`tailwind.config.ts` should include:
- Content paths: `./app/**/*.{ts,tsx}`, `./components/**/*.{ts,tsx}`
- Default theme (no customization needed initially)

### Development Commands Configuration
[Source: architecture/deployment-configuration-examples.md]

**package.json scripts MUST include:**

``json
{
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "lint:fix": "next lint --fix",
    "type-check": "tsc --noEmit",
    "test": "jest",
    "test:watch": "jest --watch",
    "test:coverage": "jest --coverage",
    "format": "prettier --write \"**/*.{ts,tsx,js,jsx,json,md}\"",
    "format:check": "prettier --check \"**/*.{ts,tsx,js,jsx,json,md}\""
  }
}
``

### Jest Configuration Requirements
[Source: architecture/testing-strategy.md]

**jest.config.js must include:**
- Next.js preset: `next/jest`
- Test environment: `jsdom` (for React component testing)
- Setup files: `__tests__/setup.ts`
- Coverage configuration targeting 70%+ on critical paths
- Transform for TypeScript files
- Module name mapper for `@/` path alias

**Example jest.config.js:**
``javascript
const nextJest = require('next/jest')

const createJestConfig = nextJest({
  dir: './',
})

const customJestConfig = {
  setupFilesAfterEnv: ['<rootDir>/__tests__/setup.ts'],
  testEnvironment: 'jest-environment-jsdom',
  moduleNameMapper: {
    '^@/(.*)$"'$': '<rootDir>/"'$'1',
  },
  collectCoverageFrom: [
    'components/**/*.{ts,tsx}',
    'lib/**/*.{ts,tsx}',
    '!**/*.d.ts',
    '!**/node_modules/**',
  ],
}

module.exports = createJestConfig(customJestConfig)
``

### ESLint Configuration
[Source: architecture/coding-standards.md]

Use Next.js recommended ESLint config (already included with `create-next-app`).

`.eslintrc.json` should extend:
- `"next/core-web-vitals"`

### Prettier Configuration
[Source: architecture/coding-standards.md]

Create `.prettierrc` with standard settings:
``json
{
  "semi": true,
  "trailingComma": "es5",
  "singleQuote": true,
  "tabWidth": 2,
  "printWidth": 100
}
``

### Git Configuration
[Source: architecture/development-workflow.md]

`.gitignore` must include:
- `node_modules/`
- `.next/`
- `out/`
- `.env*.local`
- `coverage/`
- `.DS_Store`

### Next.js Configuration
[Source: architecture/deployment-configuration-examples.md]

`next.config.js` for static export:
``javascript
/** @type {import('next').NextConfig} */
const nextConfig = {
  output: 'export',
  images: {
    unoptimized: true
  },
}

module.exports = nextConfig
``

### README.md Content Requirements
[Source: architecture/development-workflow.md]

Must document:
1. Project overview (Todo List app purpose)
2. Prerequisites (Node 18+, npm 10+)
3. Setup instructions: clone  install  run dev
4. Available npm scripts with descriptions
5. Tech stack summary
6. Project structure overview

### Testing

**Test File Location:** `__tests__/setup.ts`
[Source: architecture/testing-strategy.md]

Create a basic setup file that imports testing library global matchers:

``typescript
// __tests__/setup.ts
import '@testing-library/jest-dom'
``

**Verification Test:** Create a simple test to verify Jest setup works:

``typescript
// __tests__/sample.test.ts
describe('Jest Configuration', () => {
  it('should run tests successfully', () => {
    expect(true).toBe(true)
  })
})
``

### Success Criteria Verification

Before marking this story as complete, verify:

1.  `npm run dev` starts server on localhost:3000
2.  `npm run build` completes without errors
3.  `npm run lint` passes with no errors
4.  `npm test` runs and passes
5.  `npm run type-check` completes with no TypeScript errors
6.  All folder structure directories exist
7.  README.md is complete with setup instructions
8.  Git repository initialized with proper `.gitignore`

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-29 | 1.0 | Story created from Epic 1 | Bob (SM) |

## Dev Agent Record

### Agent Model Used

_To be filled by dev agent_

### Debug Log References

_To be filled by dev agent_

### Completion Notes List

_To be filled by dev agent during implementation_

### File List

_To be filled by dev agent with all files created/modified_

## QA Results

_To be filled by QA agent after implementation review_
